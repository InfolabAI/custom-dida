# sample.yaml
program: src/main.py
method: bayes
name: test_sweep
description: propagation sweep version 1
project: ours
entity: felight87
metric:
  name: test_metric 
  goal: maximize

parameters:
  dataset:
    value: RedditBody
  lr:
    min: 0.0001
    max: 0.1
  weight_decay:
    min: 0.0000000005
    max: 0.05
  encoder_layers:
    value: 2
  encoder_attention_heads:
    distribution: categorical
    values: [2, 4, 8, 16]
  lr_scheduler:
    distribution: categorical
    values:
      - { "sched": "polynomial", "warmup_updates": 10, "total_num_update": 500, "end_learning_rate": 1e-5, "power": 1.0 }
      - { "sched": "polynomial", "warmup_updates": 10, "total_num_update": 500, "end_learning_rate": 1e-5, "power": 2.0 }
      - { "sched": "polynomial", "warmup_updates": 20, "total_num_update": 500, "end_learning_rate": 1e-5, "power": 1.0 }
      - { "sched": "polynomial", "warmup_updates": 10, "total_num_update": 300, "end_learning_rate": 1e-5, "power": 1.0 }
      - { "sched": "polynomial", "warmup_updates": 10, "total_num_update": 500, "end_learning_rate": 1e-9, "power": 1.0 }
      - { "sched": "polynomial", "warmup_updates": 10, "total_num_update": 500, "end_learning_rate": 1e-3, "power": 1.0 }
      - {"sched": "step"}
  num_division_edgeprop:
    distribution: int_uniform
    min: 0
    max: 10
  featureprop:
    parameters:
      version:
        distribution: int_uniform
        min: 0
        max: 8
      time_att_0d_dropout:
        distribution: categorical
        values: [0.7, 0.6, 0.5, 0.4, 0.3, 0.2, 0.1, 0.0]
      time_att_2d_dropout:
        distribution: categorical
        values: [0.7, 0.6, 0.5, 0.4, 0.3, 0.2, 0.1, 0.0]
      comp_len:
        distribution: q_uniform
        min: 2
        max: 30
        q: 2
      comp_dim:
        distribution: q_uniform
        min: 2
        max: 10
        q: 2
  attention_dropout:
    distribution: categorical
    values: [0.2, 0.1, 0.0]
  act_dropout:
    distribution: categorical
    values: [0.2, 0.1, 0.0]
  dropout:
    distribution: categorical
    values: [0.1, 0.0]
  scatter_dropout:
    distribution: categorical
    values: [0.7, 0.6, 0.5, 0.4, 0.3, 0.2, 0.1, 0.0]
early_terminate:
  type: hyperband
  min_iter: 50